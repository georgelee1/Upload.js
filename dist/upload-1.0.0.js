/** Upload.js (1.0.0) | https://github.com/georgelee1/Upload.js | MIT (https://github.com/georgelee1/Upload.js/blob/master/LICENSE) */!function e(t,n,i){function r(u,s){if(!n[u]){if(!t[u]){var o="function"==typeof require&&require;if(!s&&o)return o(u,!0);if(a)return a(u,!0);var c=new Error("Cannot find module '"+u+"'");throw c.code="MODULE_NOT_FOUND",c}var l=n[u]={exports:{}};t[u][0].call(l.exports,function(e){var n=t[u][1][e];return r(n?n:e)},l,l.exports,e,t,n,i)}return n[u].exports}for(var a="function"==typeof require&&require,u=0;u<i.length;u++)r(i[u]);return r}({1:[function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();Object.defineProperty(n,"__esModule",{value:!0}),n.Widget=void 0;var a=e("../util/options"),u=e("../util/queue"),s=e("../util/dom");n.Widget=function(){function e(t,n){i(this,e),this._ele=t,this._opts=new a.Options(n,this),this._size=size,this._max=this._opts.get("max"),this._queue=new u.Queue(this._next,{delay:this._opts.get("delay")}),this._parser=new s.SimpleDOMParser,this._init()}return r(e,[{key:"_init",value:function(){var e=this;this._ele,this._picker=document.createElement("input"),this._picker.setAttribute("type","file"),this._picker.setAttribute("multiple","multiple"),this._ele.appendChild(this._picker),(0,s.on)(this._picker,"change",function(){return!0},this._picked);var t=[];(0,s.children)((0,s.matches)((0,s.type)("img")))(this._ele).forEach(function(n){if(e._max&&e._size==e._max){var i=e._parser.parse(e._opts.get("template.item"));i.appendChild(n),i.appendChild(e._parser.parse(e._opts.get("template.actions"))),t.push(i)}else n.remove()}),t.forEach(function(t){e._ele.appendChild(t)});var n=this._parser.parse(this._opts.get("template.new"));this._ele.appendChild(n),this._max&&this._size==this._max&&(0,s.addClass)("hide")(n),(0,s.on)(this._ele,(0,s.matches)((0,s.css)("item"),(0,s.css)("new")),this._pick),(0,s.on)(this._ele,(0,s.matches)((0,s.css)("del")),this._delete)}},{key:"_pick",value:function(e){e.stopImmediatePropagation(),(0,s.matches)((0,s.type)("input"))(e.target)||this._picker.click()}},{key:"_picked",value:function(){}},{key:"_next",value:function(e,t){}},{key:"_delete",value:function(e){}}]),e}()},{"../util/dom":4,"../util/options":5,"../util/queue":6}],2:[function(e,t,n){"use strict";e("./ui/widget")},{"./ui/widget":1}],3:[function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();Object.defineProperty(n,"__esModule",{value:!0});n.Cache=function(){function e(){var t=arguments.length<=0||void 0===arguments[0]?0:arguments[0];i(this,e),this._max=t,this._map={},this._head={},this._tail={prev:this._head},this._head.next=this._tail,this.length=0}return r(e,[{key:"get",value:function(e){var t=this._map[e];return this._insertAtTail(t),t?t.val:void 0}},{key:"put",value:function(e,t){this._max>0&&this.length>0&&this.length==this._max&&this.remove(this._head.next.key);var n=this._map[e],i=!0;return n?(n.val=t,i=!1):(n={key:e,val:t},this._map[e]=n,this.length++),this._insertAtTail(n),i}},{key:"remove",value:function(e){var t=this._map[e];return t?(delete this._map[e],this._evict(t),this.length--,t.val):void 0}},{key:"_evict",value:function(e){if(e){var t=e.prev,n=e.next;t.next=n,n.prev=t}}},{key:"_insertAtTail",value:function(e){e&&(e.next&&this._evict(e),e.prev=this._tail.prev,e.prev.next=e,e.next=this._tail,this._tail.prev=e)}}]),e}()},{}],4:[function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e}function a(e){return function(t){return t.tagName.toUpperCase()===e.toUpperCase()}}function u(e){return function(t){return(t.className||"").split(" ").indexOf(e)>=0}}function s(){for(var e=arguments.length,t=Array(e),n=0;e>n;n++)t[n]=arguments[n];return function(e){return t.every(function(t){return t(e)})}}function o(){for(var e=arguments.length,t=Array(e),n=0;e>n;n++)t[n]=arguments[n];return function(e){for(var n=e.childNodes,i=[],r=function(e,r){1===n[e].nodeType&&t.every(function(t){return t(n[e])})&&i.push(n[e])},a=0,u=n.length;u>a;a++)r(a,u);return i}}function c(e,t,n,i){e.addEventListener(t,function(e){n(e.target)&&i(e)})}function l(e){var t=arguments.length<=1||void 0===arguments[1]?!0:arguments[1],n=function i(n){var r=n.className?n.className.split(" "):[];if(t)r.push(e);else{var a=r.indexOf(e);a>=0&&r.splice(a,1)}return n.className=r.join(" "),i};return n}function h(e,t){var n=function i(n){return"object"===("undefined"==typeof e?"undefined":r(e))?Object.keys(e).forEach(function(t){"undefined"==typeof e[t]?n.removeAttribute(t):n.setAttribute(t,e[t])}):"undefined"==typeof t?n.removeAttribute(e):n.setAttribute(e,t),i};return n}var f=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();Object.defineProperty(n,"__esModule",{value:!0}),n.DOMList=n.SimpleDOMParser=void 0,n.type=a,n.css=u,n.matches=s,n.children=o,n.on=c,n.cls=l,n.attr=h;var p=e("./cache"),v=(n.SimpleDOMParser=function(){function e(){var t=arguments.length<=0||void 0===arguments[0]?10:arguments[0];i(this,e),this._cache=new p.Cache(t)}return f(e,[{key:"parse",value:function(e){var t=this._cache.get(e);return t||(t=new v(this._build(e)),this._cache.put(e,t)),t.clone()}},{key:"_build",value:function(e){var t=[],n=!1,i=[];if(e.split(/(\s*[ \s\(\)]\s*)/).forEach(function(e){var r=e.trim();if(0!==r.length)if(")"===r){var a=i.pop();if(!a)throw"ExpressiveDOMParser: Invalid location for closing parenthesis";n=a.node,t.forEach(function(e){return n.appendChild(e)}),t=a.nodes}else if("("===r){if(!n)throw"ExpressiveDOMParser: Invalid location for opening parenthesis";i.push({node:n,nodes:t}),t=[]}else{var u=r.split("."),s=u.shift();n=document.createElement(s),u.length&&(n.className=u.join(" ")),t.push(n)}}),i.length)throw"ExpressiveDOMParser: Unmatched opening and closing parenthesis";return t}}]),e}(),n.DOMList=function(){function e(){var t=arguments.length<=0||void 0===arguments[0]?[]:arguments[0];i(this,e),this.items=t}return f(e,[{key:"clone",value:function(){var t=[];return this.items.forEach(function(e){t.push(e.cloneNode(!0))}),new e(t)}},{key:"apply",value:function(){for(var e=this,t=arguments.length,n=Array(t),i=0;t>i;i++)n[i]=arguments[i];return n.forEach(function(t){e.items.forEach(function(e){t(e)})}),this}},{key:"appendTo",value:function(e){return this.items.forEach(function(t){e.appendChild(t)}),this}}]),e}())},{"./cache":3}],5:[function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();Object.defineProperty(n,"__esModule",{value:!0});n.Options=function(){function e(t,n){i(this,e),this._opts=t,this._context=n||this}return r(e,[{key:"get",value:function(e,t){var n=this._opts;if(e.split(".").forEach(function(e){n=n[e]}),"function"!=typeof n&&(n=function(e){return function(){return e}}(n)),n.length>0){var i=void 0;return n.apply(this._context,[t||function(e){i=e}]),i}return t?void t.apply(this._context,[n.apply(this._context)]):n.apply(this._context)}}]),e}()},{}],6:[function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();Object.defineProperty(n,"__esModule",{value:!0});n.Queue=function(){function e(t){var n=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];i(this,e),this._handler=t,this._concurrency=Math.max(n.concurrency,1)||1,this._delay=Math.max(n.delay,0)||0,this._size=Math.max(n.size,0)||0,this._queue=[],this._working=[],this._id=0}return r(e,[{key:"offer",value:function(e){return!this._size||this._queue.length<this._size?(this._queue.push({item:e}),this._next(),!0):!1}},{key:"_next",value:function(){var e=this;this._working.length<this._concurrency&&!function(){var t=e._queue.shift();void 0!==t&&!function(){var n=++e._id,i=function(){var t=e._working.indexOf(n);t>=0&&(e._working.splice(t,1),e._next())},r=function(){e._handler.apply(e,[t.item,i])};e._working.push(n),e._delay?setTimeout(r,e._delay):r()}()}()}}]),e}()},{}]},{},[2]);