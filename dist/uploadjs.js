/** Upload.js (1.2.1) | https://github.com/georgelee1/Upload.js | MIT */!function e(t,n,r){function o(i,u){if(!n[i]){if(!t[i]){var f="function"==typeof require&&require;if(!u&&f)return f(i,!0);if(a)return a(i,!0);var l=new Error("Cannot find module '"+i+"'");throw l.code="MODULE_NOT_FOUND",l}var c=n[i]={exports:{}};t[i][0].call(c.exports,function(e){var n=t[i][1][e];return o(n?n:e)},c,c.exports,e,t,n,r)}return n[i].exports}for(var a="function"==typeof require&&require,i=0;i<r.length;i++)o(r[i]);return o}({1:[function(e,t,n){"use strict";function r(e){function t(e){return r.indexOf(e.toLowerCase())>=0}function n(n,i){a?(a.push([n,i]),1===a.length&&e.get("allowed_types","types",function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};r=[].concat.apply([],e.map(function(e){return n[e]||e})).map(function(e){return e.toLowerCase()}),a.forEach(function(e){var n=o(e,2),r=n[0],a=n[1];return a(t(r))}),a=void 0})):i(t(n))}var r=void 0,a=[];return{isAllowed:n}}Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function e(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var i,u=e[Symbol.iterator]();!(r=(i=u.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(f){o=!0,a=f}finally{try{!r&&u["return"]&&u["return"]()}finally{if(o)throw a}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();n["default"]=r},{}],2:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t,n,r){function a(r,a){n.get("upload.url","upload.param","upload.additionalParams","upload.headers",function(n,i,u,f){var l=Object.assign({},u,o({},i,r));e(n,l,f).progress(function(e){return t.trigger("upload.progress",{file:r,progress:e})}).done(function(e){var n=e.uploadImageId;t.trigger("upload.done",{file:r,id:n}),a()}).fail(function(){t.trigger("upload.failed",{file:r}),a()})})}function i(){for(var e=arguments.length,n=Array(e),o=0;o<e;o++)n[o]=arguments[o];n.forEach(function(e){f.isAllowed(e.type,function(n){n?(t.trigger("upload.started",{file:e}),r.offer(function(t){return a(e,t)})):t.trigger("upload.rejected",{file:e,rejected:"type"})})})}var f=(0,u["default"])(n);return{upload:i}}Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=a;var i=e("./types"),u=r(i)},{"./types":1}],3:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t,n){var r=(0,i["default"])(function(e,t){e(t)},{delay:100}),o=(0,f["default"])(e,t,n,r);return{upload:o.upload}}Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=o;var a=e("./util/queue"),i=r(a),u=e("./actions/upload"),f=r(u)},{"./actions/upload":2,"./util/queue":8}],4:[function(e,t,n){"use strict";function r(){function e(e,t){var n=r.concat(i.reduce(function(e,t){return e.concat(t)},[]));n.length&&n.indexOf(e)<0&&console.warn("Attemping to listen to an unknown event. "+("'"+e+"' is not one of '"+n.join(", ")+"'")),"function"==typeof t&&(o[e]||(o[e]=[]),o[e].push(t))}function t(e,t){o[e]&&o[e].forEach(function(n){return n(Object.assign({type:e},t))}),a.forEach(function(n){return n.trigger(e,t)})}function n(e){e&&e.trigger&&(a.push(e),e._parent(r))}var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],o={},a=[],i=[];return{on:e,trigger:t,emit:n,_parent:function(e){i.push(e)}}}Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=r},{}],5:[function(e,t,n){"use strict";function r(e){function t(e){return"function"==typeof e&&(f=e),d}function n(e){return"function"==typeof e&&(l=e),d}function r(e){return"function"==typeof e&&(c=e),d}function a(){var t=new FormData;Object.keys(i).forEach(function(e){var n=i[e];Array.isArray(n)?n.forEach(function(n){n.type&&n.name?t.append(e,n,n.name):t.append(e,n)}):n.type&&n.name?t.append(e,n,n.name):t.append(e,n)});var n=new XMLHttpRequest;n.onreadystatechange=function(){if(4===n.readyState)if(n.status>=200&&n.status<300)try{l(JSON.parse(n.response))}catch(e){l({})}else c()},n.upload.addEventListener("progress",function(e){f(Math.ceil(e.loaded/e.total*100))},!1),n.open("POST",e,!0),u&&Object.keys(u).forEach(function(e){n.setRequestHeader(e,u[e])}),n.send(t)}var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},f=o,l=o,c=o,d={};return d.progress=t,d.done=n,d.fail=r,a(),d}Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=r;var o=function(){}},{}],6:[function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e){return e&&"object"===("undefined"==typeof e?"undefined":i(e))&&!Array.isArray(e)}function a(e){for(var t=arguments.length,n=Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];if(!n.length)return e;var u=n.shift();return o(e)&&o(u)&&Object.keys(u).forEach(function(t){o(u[t])?(e[t]||(e[t]={}),a(e[t],u[t])):Object.assign(e,r({},t,u[t]))}),a.apply(void 0,[e].concat(n))}Object.defineProperty(n,"__esModule",{value:!0});var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};n["default"]=a},{}],7:[function(e,t,n){"use strict";function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function o(e){function t(t){return t.map(function(t){var n=void 0,r=e;return t.split(".").forEach(function(e){n=r[e],r=n||{}}),n})}function n(){for(var e=[],n=void 0,o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];a.forEach(function(t){"string"==typeof t?e.push(t):"function"==typeof t&&(n=t)});var u=t(e);if(!n)return u=u.map(function(e){return"function"!=typeof e?e:0===e.length?e():void 0}),u.length>1?u:u[0];var f=u.filter(function(e){return"function"==typeof e}).length;if(0===f)n.apply(void 0,r(u));else{var l=function(e){return function(t){u[e]=t,f--,0===f&&n.apply(void 0,r(u))}};u.forEach(function(e,t){"function"==typeof e&&(e.length>0?e(l(t)):l(t)(e()))})}}return{get:n}}Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=o},{}],8:[function(e,t,n){"use strict";function r(e){function t(){if(l.length<a){var e=f.shift();if(void 0!==e){var n=++c,r=function(){var e=l.indexOf(n);e>=0&&(l.splice(e,1),t())},u=function(){return o.apply(void 0,[e.item,r])};l.push(n),i?setTimeout(u,i):u()}}}function n(e){return(!u||f.length<u)&&(f.push({item:e}),t(),!0)}var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=e,a=Math.max(r.concurrency,1)||1,i=Math.max(r.delay,0)||0,u=Math.max(r.size,0)||0,f=[],l=[],c=0;return{offer:n}}Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=r},{}],9:[function(e,t,n){"use strict";t.exports={max:10,deletable:!0,types:{images:["image/jpg","image/jpeg","image/png","image/gif"]},allowed_types:["images"],upload:{url:"",param:"file",additionalParams:{},headers:{}},"delete":{url:"",param:"file",additionalParams:{},headers:{}}}},{}],10:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(){var e=(0,u.make)("div",{"class":"item new"}),t=(0,u.make)("div",{"class":"icon plus"});return(0,u.append)(e,t),e}function a(e,t){var n=(0,u.make)("input",{type:"file",multiple:"multiple"});return(0,u.on)(n,"change",function(){for(var e=0;e<n.files.length;e++)t.trigger("file.picked",{file:n.files.item(e)})}),(0,u.on)(e,"click",n.click.bind(n)),n}function i(e,t,n){var r=(0,u.make)("div",{"class":"uploadjs-container"}),i=(0,u.make)("div",{"class":"uploadjs-container"});(0,u.append)(e,r,i);var c=o();return(0,u.addClass)(e,"uploadjs"),t.forEach(function(e){e.appendTo(r)}),(0,u.append)(i,c),(0,u.append)(e,a(c,n)),n.on("upload.started",function(e){var n=e.file,o=(0,l["default"])({type:f.TYPE_IMAGE,file:n});t.push(o),o.appendTo(r)}),(0,u.data)(e,"upload",{url:"upload.url",param:"upload.param",deleteUrl:"delete.url",deleteParam:"delete.param",allowedTypes:"allowed_types",additionalParam:"upload.additionalParams",header:"upload.headers",deleteAdditionalParam:"delete.additionalParams",deleteHeader:"delete.headers"})}Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=i;var u=e("../util/dom"),f=e("../item"),l=r(f)},{"../item":11,"../util/dom":13}],11:[function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e){if(e.file){var t=(0,u.make)("img"),n=new FileReader;return n.onload=function(e){t.setAttribute("src",e.target.result)},n.readAsDataURL(e.file),Object.assign({},e,{ele:t})}return Object.assign({},e,{ele:(0,u.make)("img",{src:e.src})})}function a(e){var t=!!e.file,n=(0,u.make)("div",{"class":["item"].concat(t?["uploading"]:[]).join(" ")});return(0,u.append)(n,e.ele),(0,u.marker)(n,"status"),t&&(0,u.replaceMarker)(n,"status",(0,u.make)("div",{"class":"spinner"}),(0,u.make)("div",{"class":"icon upload"}),(0,u.make)("div",{"class":"progress"})),n}function i(e){var t=void 0,n=l[e.type];return n&&(t=a(n(e))),{appendTo:function(e){e.appendChild(t)}}}Object.defineProperty(n,"__esModule",{value:!0}),n.TYPE_IMAGE=void 0,n.imageRenderer=o,n["default"]=i;var u=e("../util/dom"),f=n.TYPE_IMAGE="image",l=r({},f,o)},{"../util/dom":13}],12:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e){return(0,f["default"])(Object.assign({type:u.TYPE_IMAGE},(0,i.attrs)(e,"src")))}function a(e,t){var n=(0,i.children)(e,"img").map(function(e){return o(e)});return(0,i.empty)(e),(0,c["default"])(e,n,t)}Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=a;var i=e("../util/dom"),u=e("../item"),f=r(u),l=e("../container"),c=r(l)},{"../container":10,"../item":11,"../util/dom":13}],13:[function(e,t,n){"use strict";function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function o(e,t){for(var n=[],r=e.children,o=(t||"").toLowerCase(),a=0;a<r.length;a++){var i=r.item(a);t&&i.nodeName.toLowerCase()!==o||n.push(i)}return n}function a(e){for(var t=e.className?e.className.split(" "):[],n=arguments.length,r=Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];r.forEach(function(e){t.indexOf(e)<0&&t.push(e)}),e.className=t.join(" ")}function i(e){for(var t=e.className?e.className.split(" "):[],n=arguments.length,r=Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];r.forEach(function(e){var n=t.indexOf(e);n>=0&&t.splice(n,1)}),e.className=t.join(" ")}function u(e,t){var n=document.createElement(e);return t&&Object.keys(t).forEach(function(e){"class"===e?a.apply(void 0,[n].concat(r((t[e]||"").split(" ")))):n.setAttribute(e,t[e])}),n}function f(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];n.forEach(function(t){e.appendChild(t)})}function l(e,t){return"up-marker-"+e+"-"+t}function c(e,t){f(e,document.createComment(l(t,"start")),document.createComment(l(t,"end")))}function d(e,t){for(var n=l(t,"start"),r=l(t,"end"),o=!1,a=e.firstChild,i=function(e){return a.parentNode.insertBefore(e,a)},u=arguments.length,f=Array(u>2?u-2:0),c=2;c<u;c++)f[c-2]=arguments[c];for(;a;){if(8===a.nodeType){if(a.nodeValue===n){o=!0,a=a.nextSibling;continue}if(a.nodeValue===r)return void f.forEach(i)}o?(a=a.nextSibling,a.parentElement.removeChild(a)):a=a.nextSibling}}function s(e){for(;e.firstChild;)e.removeChild(e.firstChild)}function p(e){for(var t={},n=arguments.length,r=Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return r.forEach(function(n){t[n]=e.getAttribute(n)}),t}function v(e,t,n){e.addEventListener(t,n)}function m(e,t,n){var r=e,o=t.split("."),a=o.pop();o.forEach(function(e){var t=r[e];t||(t={},r[e]=t),r=t}),"object"===("undefined"==typeof r?"undefined":h(r))&&(r[a]=n)}function y(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r={};return Object.keys(e.dataset).filter(function(e){return e.startsWith(t)}).forEach(function(o){var a=o.substr(t.length);a=a.charAt(0).toLowerCase()+a.slice(1);var i="",u=0;Object.keys(n).forEach(function(e){var t=a.indexOf(e);if(t>=0&&u<e.length){u=e.length;var r=a.slice(e.length);i=n[e]+(r?"."+(r.charAt(0).toLowerCase()+r.slice(1)):"")}}),m(r,i||a,e.dataset[o])}),r}Object.defineProperty(n,"__esModule",{value:!0});var h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};n.children=o,n.addClass=a,n.removeClass=i,n.make=u,n.append=f,n.marker=c,n.replaceMarker=d,n.empty=s,n.attrs=p,n.on=v,n.set=m,n.data=y},{}],14:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var a=e("./render/parse"),i=r(a),u=e("./core"),f=r(u),l=e("./core/util/http"),c=r(l),d=e("./core/util/events"),s=r(d),p=e("./core/util/options"),v=r(p),m=e("./core/util/merge"),y=r(m),h=e("./defaults"),g=r(h);window.UploadJs=function b(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};o(this,b);var n=(0,s["default"])(["upload.started"]),r=(0,s["default"])(["file.picked"]);n.emit(r);var a=(0,i["default"])(e,r),u=(0,v["default"])((0,y["default"])({},g["default"],a,t)),l=(0,f["default"])(c["default"],n,u);r.on("file.picked",function(e){return l.upload(e.file)})}},{"./core":3,"./core/util/events":4,"./core/util/http":5,"./core/util/merge":6,"./core/util/options":7,"./defaults":9,"./render/parse":12}]},{},[14]);